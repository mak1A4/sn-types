[
  {
    "children": [
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "cryptoModuleName",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Name of the Key Management Framework (KMF) cryptographic module or Column Level\n                Encryption (CLE) encryption module to use. You must create the module before calling\n                this method. For details, see <a class=\"xref\" href=\"https://docs.servicenow.com/bundle/sandiego-platform-administration/page/administer/key-management-framework/concept/crypto-module-overview.html\" target=\"_blank\">Cryptographic module\n                  overview</a>.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"SYMMETRIC_ENCRYPTION\"); </code>",
            "text2": "This  instantiates a KMFCryptoOperation object for the module global.sj_cm to\n        perform a Symmetric Encryption operation. You must include the namespace for both global and\n        scoped applications.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 20,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"SYMMETRIC_ENCRYPTION\")\n  .withOutputType(\"STRING\").withOutputFormat(\"FORMATTED\");\n\nvar cipherText=op.doOperation(\"hi\");</code>",
            "text2": "This  shows how to specify options to update the default output type and output\n        format.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "operationName",
            "order": 20,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Name of the operation to perform.<div class=\"p\">Valid values (not case-sensitive):<ul class=\"ul\">\n                    <li class=\"li\">ASYMMETRIC_DECRYPTION: Data decryption using an asymmetric-key algorithm.\n                      Requires a KMF cryptographic module with an Asymmetric Data Decryption\n                      cryptographic purpose.<ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_jzh_zsb_wnb\">\n                        <li class=\"li\">Additional builder methods:\n                          <span class=\"keyword apiname\">withAdditionalInput()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">ASYMMETRIC_ENCRYPTION: Data encryption using an asymmetric-key algorithm.\n                      Requires a KMF cryptographic module with an Asymmetric Data Encryption\n                      cryptographic purpose. <ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_qtb_hvb_wnb\">\n                        <li class=\"li\">Additional builder methods:\n                          <span class=\"keyword apiname\">withAdditionalInput()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span>.\n                          Output can also be an <a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-withAddInput_S\">KMFEncryptionPayload</a> object. RSA and EC-IES are compatible with\n                          both. For additional information on the KMFEncryptionPayload object, see\n                            <a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-withAddInput_S\">withAdditionalInput()</a>.</li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">ASYMMETRIC_UNWRAPPING: Key unwrapping using an asymmetric-key algorithm.\n                      Requires a KMF cryptographic module with an Asymmetric Key Unwrapping\n                      cryptographic purpose.<ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_t2c_pvb_wnb\">\n                        <li class=\"li\">Additional builder methods: <span class=\"keyword apiname\">withAlgorithm()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">ASYMMETRIC_WRAPPING: Key wrapping using an asymmetric-key algorithm.\n                      Requires a KMF cryptographic module with an Asymmetric Key Wrapping\n                      cryptographic purpose. <ul class=\"ul\">\n                        <li class=\"li\">Additional builder methods: <span class=\"keyword apiname\">withAlgorithm()</span>,\n                            <span class=\"keyword apiname\">withSysId()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">MAC_GENERATION: Generation of a Message Authentication Code (MAC).\n                      Symmetric-key algorithm based to provides data integrity and authentication.\n                      Requires a KMF cryptographic module with a Symmetric Authenticity\n                      cryptographic purpose. <ul class=\"ul\">\n                        <li class=\"li\"><span class=\"ph\">Additional builder methods: None</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">MAC_VERIFICATION: Verification of a MAC. Symmetric-key algorithm based to\n                      provide data integrity and authentication. Requires a KMF cryptographic module\n                      with a Symmetric Authenticity cryptographic purpose.<ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_xqh_bxb_wnb\">\n                        <li class=\"li\">Additional builder methods:\n                          <span class=\"keyword apiname\">withAdditionalInput()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\">Default output format: KMFNone - No decoding</li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: Boolean</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">SIGNATURE_GENERATION: Generation of a digital signature. Asymmetric-key\n                      algorithm based to provide data integrity and authentication. Requires a KMF\n                      cryptographic module with a Signature Generation cryptographic purpose. <ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_t5k_gtj_wnb\">\n                        <li class=\"li\"><span class=\"ph\">Additional builder methods: None</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">SIGNATURE_VERIFICATION: Verification of a digital signature. Asymmetric-key\n                      algorithm based to provide data integrity and authentication. Requires a KMF\n                      cryptographic module with a Signature Verification cryptographic purpose.<ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_cvk_gtj_wnb\">\n                        <li class=\"li\">Additional builder methods:\n                          <span class=\"keyword apiname\">withAdditionalInput()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\">Default output format: KMFNone - No decoding</li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: Boolean</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">SYMMETRIC_ENCRYPTION: Data encryption using a symmetric-key algorithm. If\n                      the algorithm is not equality preserving, only formatted output is allowed.\n                      Requires a KMF cryptographic module with a Symmetric Data\n                      Encryption/Decryption cryptographic purpose. <ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_vg3_ryb_wnb\">\n                        <li class=\"li\"><span class=\"ph\">Additional builder methods: None</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">SYMMETRIC_DECRYPTION: Data decryption using a symmetric-key algorithm. If\n                      the algorithm is not equality preserving, KMFBase64 input is allowed. Requires\n                      a KMF cryptographic module with a Symmetric Data Encryption/Decryption\n                      cryptographic purpose.<ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_mcx_2tj_wnb\">\n                        <li class=\"li\"><span class=\"ph\">Additional builder methods: None</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">SYMMETRIC_WRAPPING: Key wrapping using a symmetric-key algorithm. If the\n                      algorithm is not equality preserving, only formatted output is allowed.\n                      Requires a KMF cryptographic module with a Symmetric Key Wrapping/Unwrapping\n                      cryptographic purpose. <ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_sz2_xyb_wnb\">\n                        <li class=\"li\">Additional builder methods: <span class=\"keyword apiname\">withAlgorithm()</span> and\n                            <span class=\"keyword apiname\">withSysId()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                    <li class=\"li\">SYMMETRIC_UNWRAPPING: Key unwrapping using a symmetric-key algorithm. If the\n                      algorithm is not equality preserving, KMFBase64 input is allowed. Requires a\n                      KMF cryptographic module with a Symmetric Key Wrapping/Unwrapping\n                      cryptographic purpose.<ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_yh4_tyb_wnb\">\n                        <li class=\"li\">Additional builder methods: <span class=\"keyword apiname\">withAlgorithm()</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default input format: Formatted - Formatted to the KMF specifications</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output format: KMFBase64 - Base64 encoded</span></li>\n\n                        <li class=\"li\"><span class=\"ph\">Default output type: String</span></li>\n\n                      </ul>\n</li>\n\n                  </ul>\n</div>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 30,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"ASYMMETRIC_ENCRYPTION\")\n.withInputFormat(\"KMFNONE\")\n.withOutputType(\"PAYLOAD\");\n\nvar cipherText = op.doOperation(\"hi\");\n\n/*\ncipherText contains an object similar to this JSON: {\n  \"signature\": \"pkg…\",\n  \"ephemeral_key\": \"BDi…\",\n  \"ciphertext\": \"afFS…\"\n}\n*/\n</code>",
            "text2": "This  shows how to perform an Asymmetric Encryption operation using an Integrated\n        Encryption Scheme (EC-IES). Note that long values, such as <span class=\"keyword parmname\">signature</span>,\n        have been truncated and replaced with an ellipse for readability.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 40,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new \nsn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"ASYMMETRIC_DECRYPTION\")\n  .withAdditionalInput({\n  \"signature\": \"pkg… \",\n  \"ephemeral_key\": \"BDi…\"\n})\n.withOutputFormat(\"KMFNONE\");\n\nvar clearText = op.doOperation(\"afFS…\");\n</code>",
            "text2": "This  shows how to perform an Asymmetric Decryption operation using EC-IES.",
            "type": "Example",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-KMFCryptoOperation_S_S",
        "hasExample": true,
        "hasParameter": true,
        "name": "KMFCryptoOperation(String cryptoModuleName, String operationName)",
        "order": 3040,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Creates a KMFCryptoOperation object for the specified module and operation.",
        "text2": "<p>This API leverages builder methods. Builder methods update properties on the\n        KMFCryptoOperation object, such as changing the desired output format of the data. Not all\n        builder methods are valid for all operations. The builder methods available for each\n        operation are noted in the parameters table below.</p><p>The following builder methods are valid for all operation types:<ul class=\"ul\" id=\"KMFCO-KMFCryptoOperation_S_S__ul_ijl_xtb_wnb\">\n          <li class=\"li\"><a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-withInputType_S\" title=\"Sets the data format for the input data on which the cryptographic operation will be performed. Uses the specified format when decoding the data.\">withInputFormat()</a></li>\n\n          <li class=\"li\"><a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-withOutputFormat_S\" title=\"Sets the data format of the output data that is returned by the cryptographic operation. Uses the specified format when encoding the data.\">withOutputFormat()</a></li>\n\n          <li class=\"li\"><a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-withOutputType_S\" title=\"Sets the data type for the output data returned after the cryptographic operation is performed.\">withOutputType()</a></li>\n\n        </ul></p>",
        "type": "Constructor",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "data",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "Object",
            "text2": "Required except if the <span class=\"keyword apiname\">withSysId()</span> builder method has\n                previously been called on the associated KMFCryptoOperation object. Input data on\n                which to perform the cryptographic operation.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"MAC_GENERATION\"); \nvar data = \"aGk=\"; \nvar mac = op.doOperation(data);</code>",
            "text2": "This  uses the <span class=\"keyword apiname\">doOperation()</span> to create a MAC.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Depends on the operation type.",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": "Data results after performing the operation specified in the associated\n                KMFCryptoOperation object.",
            "text2": null,
            "type": "Return",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-doOperation_O",
        "hasExample": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "doOperation(Object data)",
        "order": 6060,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Performs the cryptographic operation defined by the current KMFCryptoOperation object\n    on the supplied data and returns the result.",
        "text2": null,
        "type": "Method",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "None",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": " ",
            "text2": null,
            "type": "Return",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "additionalInput",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String or Object",
            "text2": "Optional, except for Asymmetric Decryption operations when using EC-IES.\n                Additional input data needed to perform the cryptographic operation specified in the\n                KMFCryptoOperation object.<div class=\"p\">Supported string formats:<ul class=\"ul\" id=\"KMFCO-withAddInput_S__ul_pyr_sml_vnb\">\n                    <li class=\"li\">FORMATTED: Formatted to the Key Management Framework (KMF)\n                      specifications.</li>\n\n                    <li class=\"li\">KMFBASE64: Base64 encoded.</li>\n\n                  </ul>\n</div>\n<p class=\"p\" id=\"KMFCO-withAddInput_S__KMFEncryptionPayload\">KMFEncryptionPayload object\n                format:</p>\n<pre class=\"pre codeblock\"><code>{\n  \"ciphertext\": String,\n  \"derivation_secret\": String,\n  \"ephemeral_key\": String,\n  \"ephemeral_key_format\": String,\n  \"signature\": String\n}</code></pre>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var signature = \"John Doe\";\nvar op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"SIGNATURE_VERIFICATION\")\n  .withAdditionalInput(signature);\n\nvar value = GlideStringUtil.base64Encode(\"Text to encode\"); // Default input format is KMFBase64\nvar result = op.doOperation(String(value));</code>",
            "text2": "This  uses <span class=\"keyword apiname\">withAdditionalInput()</span> to add a string-based signature\n        to the KMFCryptoOperation object.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "additionalInput.ciphertext",
            "order": 20,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String (Base64)",
            "text2": "Required for Asymmetric Decryption, optional for all other operations.<div class=\"p\">Valid values:<ul class=\"ul\">\n                    <li class=\"li\">If using an RSA algorithm: RSA ciphertext</li>\n\n                    <li class=\"li\">If using an EC-IES algorithm: Integrated AES ciphertext</li>\n\n                  </ul>\n</div>\n<p class=\"p\">Available from the Asymmetric Encryption operation when the output\n                  type is set to <span class=\"keyword parmname\">payload</span>.</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 20,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var payload = new sn_kmf_ns.KMFEncryptionPayload();\npayload.signature = \"pkg...\";\npayload.ephemeral_key = \" BDi...\";\npayload.ephemeral_key_format = \"x962\";\n\nvar op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"ASYMMETRIC_DECRYPTION\")\n  .withAdditionalInput(payload)\n  .doOperation(\"afFS...\";\n</code>",
            "text2": "This  uses <span class=\"keyword apiname\">withAdditionalInput()</span> to add a signature and ephemeral\n        key to the KMFCryptoOperation object.  Note that long values, such as those in the\n          <span class=\"keyword apiname\">doOperation()</span> call and <span class=\"keyword parmname\">payload</span> description, have\n        been truncated and replaced with an ellipse for readability.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "additionalInput.derivation_secret",
            "order": 30,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String (Base64)",
            "text2": "Optional, only used for the Asymmetric Encryption or Asymmetric Decryption\n                operations with EC-IES. Shared secret to use during the key derivation process of\n                the integrated scheme.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "additionalInput.ephemeral_key",
            "order": 40,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String (Base64)",
            "text2": "Required for the Asymmetric Decryption operation when using EC-IES, optional\n                for all other operations. Ephemeral public key to use during the basic agreement\n                process of the integrated scheme.<p class=\"p\">Available from the Asymmetric Encryption\n                  operation when the output type is set to <span class=\"keyword parmname\">payload</span>.</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "additionalInput.ephemeral_key_format",
            "order": 50,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Optional, only used for the Asymmetric Encryption or Asymmetric Decryption\n                operations with EC-IES. Overrides the format of the public key represented by the\n                  <span class=\"keyword parmname\">ephemeral_key</span> parameter.<div class=\"p\">Valid values:<ul class=\"ul\" id=\"KMFCO-withAddInput_S__ul_kyp_vrg_1qb\">\n                    <li class=\"li\">x962</li>\n\n                    <li class=\"li\">der</li>\n\n                  </ul>\n</div>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "additionalInput.signature",
            "order": 60,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String (Base64)",
            "text2": "Required for the Asymmetric Decryption operation with EC-IES, optional for all\n                others. The signature of the ciphertext to validate using the signature verification\n                process of the integrated scheme.<p class=\"p\">Available from the Asymmetric Encryption\n                  operation when the output type is set to <span class=\"keyword parmname\">payload</span>.</p>",
            "type": "Parameter",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-withAddInput_S",
        "hasExample": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "withAdditionalInput(Object additionalInput)",
        "order": 18430,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Sets the additional input needed to perform the cryptographic operation.",
        "text2": "<p>For example, during a Message Authentication Code (MAC) verification, use this method to\n        pass in the generated MAC tag. Similarly, during signature verification, use it to pass in\n        the signature. You can also use this method to pass additional data, a KMFEncryptionPayload\n        object, when performing an asymmetric operation with an integrated cipher, such as Elliptic\n        Curve Integrated Encryption Scheme (EC-IES.)</p><p><span class=\"notetitle\">Note:</span> The additional input does not have to be in the same format as what is currently set on\n        the KFMCryptoOperation object.</p>",
        "type": "Method",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"ASYMMETRIC_WRAPPING\").withAlgorithm(\"EC\");\nvar value = GlideStringUtil.base64Encode(\"Sample key\"); // Default input format is KMFBase64\nvar result = op.doOperation(String(value));</code>",
            "text2": "This  uses <span class=\"keyword apiname\">withAlgorithm()</span> to change the encryption algorithm\n        used to EC.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "None",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": " ",
            "text2": null,
            "type": "Return",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "algorithm",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Algorithm to use.<div class=\"p\">Valid values:<ul class=\"ul\">\n                    <li class=\"li\">AES: Symmetric key type</li>\n\n                    <li class=\"li\">EC: Asymmetric key type</li>\n\n                    <li class=\"li\">HMAC: Symmetric key type</li>\n\n                    <li class=\"li\">RSA: Asymmetric key type</li>\n\n                  </ul>\n</div>",
            "type": "Parameter",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-withAlgorithm_S",
        "hasExample": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "withAlgorithm(String algorithm)",
        "order": 18440,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Sets the algorithm associated with the key material to wrap.",
        "text2": null,
        "type": "Method",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "None",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": " ",
            "text2": null,
            "type": "Return",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "inputFormat",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Format of the input data.<div class=\"p\">Valid values:<ul class=\"ul\">\n                    <li class=\"li\">FORMATTED: Formatted to the Key Management Framework (KMF)\n                      specifications.</li>\n\n                    <li class=\"li\">KMFBASE64: Base64 encoded.</li>\n\n                    <li class=\"li\">KMFNONE: No encoding.</li>\n\n                  </ul>\n</div>\n<p class=\"p\">Default: Value determined by the operation specified when the\n                  KMFCryptoOperation object was instantiated. For more information, see <a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-KMFCryptoOperation_S_S\" title=\"Creates a KMFCryptoOperation object for the specified module and operation.\">KMFCryptoOperation - KMFCryptoOperation(String cryptoModuleName, String operationName)</a>.</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"SYMMETRIC_ENCRYPTION\").withInputFormat(\"KMFNone\");\nvar result = op.doOperation(\"Text with no encoding\"); // Pass in unencrypted String</code>",
            "text2": "This  uses <span class=\"keyword apiname\">withInputFormat()</span> to change the input format to have\n        no encoding.",
            "type": "Example",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-withInputType_S",
        "hasExample": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "withInputFormat(String inputFormat)",
        "order": 18600,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Sets the data format for the input data on which the cryptographic operation will be\n    performed. Uses the specified format when decoding the data.",
        "text2": null,
        "type": "Method",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"SYMMETRIC_DECRYPTION\").withOutputFormat(\"KMFNone\");\nvar clear_data = op.doOperation(&lt;FORMATTED_data&gt;); // Pass in default of FORMATTED data</code>",
            "text2": "This  uses <span class=\"keyword apiname\">withOutputFormat()</span> to set the output format of the\n        decryption to KMFNone (default is KMFBase64.)",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "None",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": " ",
            "text2": null,
            "type": "Return",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "outputFormat",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Format of the output data.<div class=\"p\">Valid values:<ul class=\"ul\">\n                    <li class=\"li\">FORMATTED: Formatted to the Key Management Framework (KMF)\n                      specifications.</li>\n\n                    <li class=\"li\">KMFBASE64: Base64 encoded.</li>\n\n                    <li class=\"li\">KMFNONE: No decoding. Only supported for MAC_VERIFICATION and\n                      SIGNATURE_VERIFICATION.</li>\n\n                  </ul>\n</div>\n<p class=\"p\">Default if this method is not called: Value determined by the\n                  operation specified when the KMFCryptoOperation object was instantiated. For more\n                  information, see <a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-KMFCryptoOperation_S_S\" title=\"Creates a KMFCryptoOperation object for the specified module and operation.\">KMFCryptoOperation - KMFCryptoOperation(String cryptoModuleName, String operationName)</a>.</p>",
            "type": "Parameter",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-withOutputFormat_S",
        "hasExample": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "withOutputFormat(String outputFormat)",
        "order": 18620,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Sets the data format of the output data that is returned by the cryptographic\n    operation. Uses the specified format when encoding the data.",
        "text2": null,
        "type": "Method",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "outputType",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Type of output data.<p class=\"p\">Not all output types are applicable to all operations.\n                  For an unsupported type, an exception is thrown.</p>\n<div class=\"p\">Valid values (not case-sensitive):<ul class=\"ul\">\n                    <li class=\"li\">String: Not valid for <span class=\"keyword parmname\">MAC_VERIFICATION</span> or\n                        <span class=\"keyword parmname\">SIGNATURE_VERIFICATION</span> operations.</li>\n\n                    <li class=\"li\">Boolean: Only valid for <span class=\"keyword parmname\">MAC_VERIFICATION</span> or\n                        <span class=\"keyword parmname\">SIGNATURE_VERIFICATION</span> operations.</li>\n\n                    <li class=\"li\">Payload: Only valid for the <span class=\"keyword parmname\">ASYMMETRIC_ENCRYPTION</span>\n                      operation. Use this output type for EC-IES.</li>\n\n                  </ul>\n</div>\n<div class=\"p\">\n                  <div class=\"note note\"><span class=\"notetitle\">Note:</span> When specifying an output of <kbd class=\"ph userinput\">Payload</kbd>, the output of\n                    the <span class=\"keyword apiname\">doOperation()</span> method is a KMFEncryptionPayload object.\n                    For more information on the structure of this object, see <a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-withAddInput_S\">withAdditionalInput()</a>.</div>\n</div>\n<p class=\"p\">Default: Value determined by the operation, specified when the\n                  KMFCryptoOperation object was instantiated. For more information, see <a class=\"xref\" href=\"dev.do#!/reference/api/sandiego/server/sn_kmf_ns-namespace/KMFCryptoOperationBothAPI#KMFCO-KMFCryptoOperation_S_S\" title=\"Creates a KMFCryptoOperation object for the specified module and operation.\">KMFCryptoOperation - KMFCryptoOperation(String cryptoModuleName, String operationName)</a>.</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"MAC_VERIFICATION\")\n  .withOutputType(\"Boolean\").withAdditionalInput(&lt;MAC&gt;);\nvar value = GlideStringUtil.base64Encode(\"Text to sign\"); // Default input type is KMFBase64\nvar result = op.doOperation(String(value));</code>",
            "text2": "This  uses <span class=\"keyword apiname\">withOutputType()</span> to set the output type for\n        MAC_VERIFICATION to Boolean.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "None",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": " ",
            "text2": null,
            "type": "Return",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-withOutputType_S",
        "hasExample": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "withOutputType(String outputType)",
        "order": 18630,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Sets the data type for the output data returned after the cryptographic operation is\n    performed.",
        "text2": "<p><div class=\"note note\"><span class=\"notetitle\">Note:</span> When you instantiate the KMFCryptoOperation object for\n            <span class=\"keyword parmname\">MAC_VERIFICATION</span> or <span class=\"keyword parmname\">SIGNATURE_VERIFICATION</span>\n          operations, you must also call this method, passing boolean, to set the correct output\n          type or an exception is thrown when you execute the operation.</div></p>",
        "type": "Method",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>var op = new sn_kmf_ns.KMFCryptoOperation(\"global.sj_cm\",\"SYMMETRIC_WRAPPING\").withSysId(\"0d06ce525b231010f86d1b341d81c777\");\nvar wrappedKey = operation.doOperation(); // No need to pass data when using withSysId()</code>",
            "text2": "This  uses <span class=\"keyword apiname\">withSysId()</span> to define the key to wrap.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "None",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": " ",
            "text2": null,
            "type": "Return",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "sysId",
            "order": 10,
            "release": "sandiego",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Sys_id of the key to wrap. Located in the Module Key [sys_kmf_module_key]\n                table.",
            "type": "Parameter",
            "variable": null
          }
        ],
        "dc_identifier": "KMFCO-withSysId_S",
        "hasExample": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "withSysId(String sysId)",
        "order": 18650,
        "parentId": "KMFCryptoOperationBothAPI",
        "parent_permalink": "class_namespace__scoped_kmfcryptooperation_api___scoped__global_sn_kmf_ns_namespace__sandiego",
        "release": "sandiego",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Sets the sys_id of the key to wrap on the KMFCryptoOperation object. Applicable to\n    symmetric and asymmetric wrapping of keys.",
        "text2": null,
        "type": "Method",
        "variable": null
      }
    ],
    "dc_identifier": "KMFCryptoOperationBothAPI",
    "is_current": true,
    "is_highlighted": true,
    "level": "Class",
    "name": "KMFCryptoOperation API - Scoped, Global",
    "namespace_id": "sn_kmf_ns-namespace",
    "release": "sandiego",
    "text": "The <span class=\"keyword apiname\">KMFCryptoOperation</span> class provides methods for performing\n    cryptographic operations using a KMF cryptographic module or a CLE encryption\n    module.",
    "text2": "To use this API, you must have already created and configured a Key Management Framework\n      (KMF) cryptographic module or a Column Level Encryption (CLE) encryption module. The module\n      must have one or more cryptographic specifications and you must create or import its\n      associated key. For details, see <a class=\"xref\" href=\"https://docs.servicenow.com/bundle/sandiego-platform-administration/page/administer/key-management-framework/concept/crypto-module-overview.html\" target=\"_blank\">Cryptographic modules</a>.<br/><br/>The KMFCryptoOperation object generated using this API represents a cryptographic operation,\n      such as a Symmetric Encryption. Use the <span class=\"keyword apiname\">KMFCryptoOperations()</span> method to\n      create this object, the builder methods to set properties on the object, and the\n        <span class=\"keyword apiname\">doOperation()</span> method to execute the operation.<br/><br/>You can use this API in both scoped and global applications. You must always specify the\n        <code class=\"ph codeph\">sn_kmf_ns</code> namespace when calling this API.",
    "type": "Server Side Scoped",
    "variable": ""
  }
]