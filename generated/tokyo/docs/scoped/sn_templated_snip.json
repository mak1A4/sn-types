[
  {
    "children": [
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "tokyo",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>new sn_templated_snip.ResponseTemplate().query(\"incident\",\"ef4225a40a0a0b5700d0b8a790747812\", \"\", 0, 0, true, \"\"); </code>",
            "text2": null,
            "type": "Example",
            "variable": null
          }
        ],
        "dc_identifier": "RT-ResponseTemplate",
        "hasExample": true,
        "name": "ResponseTemplate()",
        "order": 3240,
        "parentId": "ResponseTemplateAPI",
        "parent_permalink": "class_namespace__scoped_responsetemplate___scoped__global_sn_templated_snip__tokyo",
        "release": "tokyo",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Instantiates a new ResponseTemplate object.",
        "text2": null,
        "type": "Constructor",
        "variable": null
      },
      {
        "children": [
          {
            "children": null,
            "dc_identifier": null,
            "name": "Object",
            "order": 10,
            "release": "tokyo",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": "Array of all templates that match the specified search criteria. Response\n                templates with exact matches on short name appear first in the return results. All\n                other returned response templates are sorted by name.<p class=\"p\">Each node in the Array may\n                  contain the following parameters:</p>\n<ul class=\"ul\" id=\"RT-query_S_S_S_N_N_B_S_O__ul_dcs_nxx_c3b\">\n                  <li class=\"li\"><span class=\"keyword parmname\">sys_id</span>: String. Unique identifier of the response\n                    template.</li>\n\n                  <li class=\"li\"><span class=\"keyword parmname\">name</span>: String. Name of the response template.</li>\n\n                  <li class=\"li\"><span class=\"keyword parmname\">short_name</span>: String. Short name of the response\n                    template.</li>\n\n                  <li class=\"li\"><span class=\"keyword parmname\">body</span>: HTML. Body of the response template.</li>\n\n                  <li class=\"li\"><span class=\"keyword parmname\">short_name_match</span>: Boolean. Flag that indicates whether an\n                    exact match occurred on the short name of the response template.</li>\n\n                  <li class=\"li\"><span class=\"keyword parmname\">evaluated_response</span>: Array. Results of the template\n                      evaluation.<ul class=\"ul\" id=\"RT-query_S_S_S_N_N_B_S_O__ul_hyc_myx_c3b\">\n                      <li class=\"li\"><span class=\"keyword parmname\">success</span>: Boolean. Flag that indicates whether all\n                        variables rendered properly.</li>\n\n                      <li class=\"li\"><span class=\"keyword parmname\">evaluated_body</span>: HTML. Rendered response template\n                        body.</li>\n\n                      <li class=\"li\"><span class=\"keyword parmname\">error</span>: Array. Entry for each evaluation error that\n                          occurred.<ul class=\"ul\" id=\"RT-query_S_S_S_N_N_B_S_O__ul_qlb_bzx_c3b\">\n                          <li class=\"li\"><span class=\"keyword parmname\">inAccessibleVariables</span>: String. Variables in the\n                            response template body that could not be resolved.</li>\n\n                          <li class=\"li\"><span class=\"keyword parmname\">unEvaluatedVariables</span>: String. Variablesin the\n                            response template body that were not evaluated.</li>\n\n                          <li class=\"li\"><span class=\"keyword parmname\">message</span>: String. Error message.</li>\n\n                        </ul>\n</li>\n\n                    </ul>\n</li>\n\n                </ul>",
            "text2": null,
            "type": "Return",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "tableName",
            "order": 10,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Name of the table to use to search the sn_templated_snip_note_template table to\n                locate corresponding response templates. For example, incident or\n                sn_hr_core_case.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": [
              {
                "children": null,
                "dc_identifier": null,
                "name": "Output",
                "order": 10,
                "release": "tokyo",
                "sectionHeader": null,
                "sectionTitle": null,
                "tableHeader": null,
                "text": "[\n  {\n    &quot;sys_id&quot;: &quot;5fc1d65993003300a9bc1d1e867ffb9c&quot;,\n    &quot;name&quot;: &quot;Incident escalation&quot;,\n    &quot;short_name&quot;: &quot;escalation&quot;,\n    &quot;template_body&quot;: &quot;&lt;p&gt;Dear ${caller_id.first_name},&lt;/p&gt;\\r\\n&lt;p&gt;Please note that your incident ${number} has been escalated to ${assignment_group}. An agent will be assigned on your case and will keep you updated. If you have more questions please reach out to our team.&lt;/p&gt;\\r\\n&lt;p&gt;Regards,&lt;/p&gt;\\r\\n&lt;p&gt;${sys_updated_by}&lt;/p&gt;&quot;\n  }\n]",
                "text2": "Successful ",
                "type": "Output",
                "variable": null
              }
            ],
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "tokyo",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>query(\"incident\",\"ef4225a40a0a0b5700d0b8a790747812\", \"\", 0, 0, false, \"\");</code>",
            "text2": "This  shows how to query for response templates associated with the incident\n        table.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "recordId",
            "order": 20,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Sys ID of the record to use to render the variables in the response\n                template.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": [
              {
                "children": null,
                "dc_identifier": null,
                "name": "Output",
                "order": 10,
                "release": "tokyo",
                "sectionHeader": null,
                "sectionTitle": null,
                "tableHeader": null,
                "text": "[\n  {\n    &quot;sys_id&quot;: &quot;5fc1d65993003300a9bc1d1e867ffb9c&quot;,\n    &quot;name&quot;: &quot;Incident escalation&quot;,\n    &quot;short_name&quot;: &quot;escalation&quot;,\n    &quot;template_body&quot;: &quot;&lt;p&gt;Dear ${caller.first_name},&lt;/p&gt;\\r\\n&lt;p&gt;Please note that your incident ${number} has been escalated to ${assignment_group}. An agent will be assigned on your case and will keep you updated. If you have more questions please reach out to our team.&lt;/p&gt;\\r\\n&lt;p&gt;Regards,&lt;/p&gt;\\r\\n&lt;p&gt;${sys_updated_by}&lt;/p&gt;&quot;,\n    &quot;evaluated_response&quot;: {\n      &quot;success&quot;: false,\n      &quot;error&quot;: {\n        &quot;unEvaluatedVariables&quot;: &quot;caller.first_name&quot;,\n        &quot;message&quot;: &quot;Cannot evaluate following variables: caller.first_name&quot;\n      },\n      &quot;evaluated_body&quot;: &quot;&lt;p&gt;Dear &lt;span style='color:#ff0000'&gt;${caller.first_name}&lt;/span&gt;,&lt;/p&gt;\\r\\n&lt;p&gt;Please note that your incident INC0000049 has been escalated to Hardware. An agent will be assigned on your case and will keep you updated. If you have more questions please reach out to our team.&lt;/p&gt;\\r\\n&lt;p&gt;Regards,&lt;/p&gt;\\r\\n&lt;p&gt;admin&lt;/p&gt;&quot;\n    }\n  }\n]",
                "text2": "Error ",
                "type": "Output",
                "variable": null
              }
            ],
            "dc_identifier": null,
            "name": "Example",
            "order": 20,
            "release": "tokyo",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>query(\"incident\",\"fe4225a40a0a0b5700d0b8a790747812\", \"\", 0, 0, false, \"\");</code>",
            "text2": "Same query with an error response.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "searchTerm",
            "order": 30,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Optional. Text to use to filter the list of matching response templates. <p class=\"p\">The\n                  method performs a CONTAINS search of this text on the name and body fields and a\n                  STARTS WITH search on the short name field. For example, if the search term is\n                  \"crash\", the method returns any response template that matches the query criteria\n                  and has crash in the name or body or the short name starts with\n                  crash.</p>\n<p class=\"p\">Response templates with exact matches on short name appear first in\n                  the return results. All other returned response templates are sorted by\n                  name.</p>\n<p class=\"p\">Default: Return all matching response templates.</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "limit",
            "order": 40,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "Number",
            "text2": "Optional. Maximum number of response templates to return.<p class=\"p\">Default:\n                50</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "offset",
            "order": 50,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "Number",
            "text2": "Optional. For pagination, the index at which to start the search.<p class=\"p\">Default:\n                  0</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "includeEvaluatedBody",
            "order": 60,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "Boolean",
            "text2": "Optional. Flag that indicates whether to render the template variables.<p class=\"p\">Valid\n                  values:</p>\n<ul class=\"ul\" id=\"RT-query_S_S_S_N_N_B_S_O__ul_msx_dpx_c3b\">\n                  <li class=\"li\">false: Do not render the template variables. The response contains the message\n                      variables.<div class=\"p\">For example:\n                      <pre class=\"pre msgblock\">Please note that your case ${number} has been escalated to ${assignment_group}.</pre>\n</div>\n</li>\n\n                  <li class=\"li\">true: Renders the template variables and returns <span class=\"keyword parmname\">evaluated_response\n                    </span> in the return results. <div class=\"p\">For example:\n                      <pre class=\"pre msgblock\">Please note that your case INC100001 has been escalated to Facilities.</pre>\n</div>\n</li>\n\n                </ul>\n<p class=\"p\">Default: false</p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "errorFormat",
            "order": 70,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Optional. HTML formatting to use for errors. <p class=\"p\">For\n                example:</p>\n<p class=\"p\"><code class=\"ph codeph\">\"&lt;span\n                style='color:#ffff00'&gt;${%s}&lt;/span&gt;\"</code></p>\n<p class=\"p\">Default: <code class=\"ph codeph\">\"&lt;span\n                  style='color:#ff0000'&gt;${%s}&lt;/span&gt;\"</code></p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "opts",
            "order": 80,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "Object",
            "text2": "Optional. Parameters to pass to the\n              sn_templated_snip.response_template extension point. The format and content of these\n              parameters are dependent on the implementation of the extension point. For additional\n              information on extension points, see <a class=\"xref\" href=\"https://docs.servicenow.com/bundle/tokyo-application-development/page/build/applications/concept/extension-points.html\" target=\"_blank\">Using extension points to extend\n                application functionality</a>.",
            "type": "Parameter",
            "variable": null
          }
        ],
        "dc_identifier": "RT-query_S_S_S_N_N_B_S_O",
        "hasExample": true,
        "hasOutput": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "query(String tableName, String recordId, String searchTerm, Number limit, Number offset, Boolean includeEvaluatedBody, String errorFormat, Object opts)",
        "order": 14480,
        "parentId": "ResponseTemplateAPI",
        "parent_permalink": "class_namespace__scoped_responsetemplate___scoped__global_sn_templated_snip__tokyo",
        "release": "tokyo",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Returns all response templates from a specified table that match the passed in query\n    criteria.",
        "text2": null,
        "type": "Method",
        "variable": null
      },
      {
        "children": [
          {
            "children": [
              {
                "children": null,
                "dc_identifier": null,
                "name": "Output",
                "order": 10,
                "release": "tokyo",
                "sectionHeader": null,
                "sectionTitle": null,
                "tableHeader": null,
                "text": "{\n  &quot;success&quot;: true,\n  &quot;evaluated_body&quot;: &quot;&lt;p&gt;Dear Beth,&lt;/p&gt;\\r\\n&lt;p&gt;Please note that your incident INC0000049 has been escalated to Hardware. An agent will be assigned on your case and will keep you updated. If you have more questions please reach out to our team.&lt;/p&gt;\\r\\n&lt;p&gt;Regards,&lt;/p&gt;\\r\\n&lt;p&gt;admin&lt;/p&gt;&quot;\n}",
                "text2": "Successful ",
                "type": "Output",
                "variable": null
              }
            ],
            "dc_identifier": null,
            "name": "Example",
            "order": 10,
            "release": "tokyo",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>render(\"5fc1d65993003300a9bc1d1e867ffb9c\",\"incident\",\"ef4225a40a0a0b5700d0b8a790747812\", \"\")</code>",
            "text2": "This code  shows how to request a rendered response template for the incident\n        table.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "Object",
            "order": 10,
            "release": "tokyo",
            "sectionHeader": "Returns",
            "sectionTitle": null,
            "tableHeader": "Type,Description",
            "text": "Results of the render.<ul class=\"ul\" id=\"RT-render_S_S_S_S_O__ul_q1m_d3y_c3b\">\n                  <li class=\"li\"><span class=\"keyword parmname\">success</span>: Flag that indicates whether the render was\n                    successful.</li>\n\n                  <li class=\"li\"><span class=\"keyword parmname\">evaluated_body</span>: String. For success, rendered response\n                    template body. For error, response template body which includes both rendered\n                    and non-renderable variables.</li>\n\n                  <li class=\"li\"><span class=\"keyword parmname\">error</span>: Object. Error message if render was\n                      unsuccessful.<ul class=\"ul\" id=\"RT-render_S_S_S_S_O__ul_cdl_d14_d3b\">\n                      <li class=\"li\"><span class=\"keyword parmname\">unEvaluatedVariables</span>: Variables that could not be\n                        rendered.</li>\n\n                      <li class=\"li\"><span class=\"keyword parmname\">message</span>: Error message.</li>\n\n                    </ul>\n</li>\n\n                </ul>",
            "text2": null,
            "type": "Return",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "templateId",
            "order": 10,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Sys ID of the response template to render.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "tableName",
            "order": 20,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Name of the table to use when rendering the variables on the response\n                template.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": [
              {
                "children": null,
                "dc_identifier": null,
                "name": "Output",
                "order": 10,
                "release": "tokyo",
                "sectionHeader": null,
                "sectionTitle": null,
                "tableHeader": null,
                "text": "{\n  &quot;success&quot;: false,\n  &quot;error&quot;: {\n    &quot;unEvaluatedVariables&quot;: &quot;caller.first_name&quot;,\n    &quot;message&quot;: &quot;Cannot evaluate following variables: caller.first_name&quot;\n  },\n  &quot;evaluated_body&quot;: &quot;&lt;p&gt;Dear &lt;span style='color:#ff0000'&gt;${caller.first_name}&lt;/span&gt;,&lt;/p&gt;\\r\\n&lt;p&gt;Please note that your incident INC0000049 has been escalated to Hardware. An agent will be assigned on your case and will keep you updated. If you have more questions please reach out to our team.&lt;/p&gt;\\r\\n&lt;p&gt;Regards,&lt;/p&gt;\\r\\n&lt;p&gt;admin&lt;/p&gt;&quot;\n}",
                "text2": "Error ",
                "type": "Output",
                "variable": null
              }
            ],
            "dc_identifier": null,
            "name": "Example",
            "order": 20,
            "release": "tokyo",
            "sectionHeader": null,
            "sectionTitle": null,
            "tableHeader": null,
            "text": "<code>render(\"5fc1d65993003300a9bc1d1e867ffb9c\",\"incident\",\"ef4225a40a0a0b5700d0b8a790747812\", \"\")</code>",
            "text2": "Same render request but returning an error response.",
            "type": "Example",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "recordId",
            "order": 30,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Sys ID of the record to use when rendering the variables on the response\n                template. This record must be in the table specified by\n                  <span class=\"keyword parmname\">tableName</span>.",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "errorFormat",
            "order": 40,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "String",
            "text2": "Optional. HTML formatting to use for errors. <p class=\"p\">For\n                example:</p>\n<p class=\"p\"><code class=\"ph codeph\">\"&lt;span\n                style='color:#ffff00'&gt;${%s}&lt;/span&gt;\"</code></p>\n<p class=\"p\">Default: <code class=\"ph codeph\">\"&lt;span\n                  style='color:#ff0000'&gt;${%s}&lt;/span&gt;\"</code></p>",
            "type": "Parameter",
            "variable": null
          },
          {
            "children": null,
            "dc_identifier": null,
            "name": "opts",
            "order": 50,
            "release": "tokyo",
            "sectionHeader": "Parameters",
            "sectionTitle": null,
            "tableHeader": "Name,Type,Description",
            "text": "Object",
            "text2": "Optional. Parameters to pass to the\n              sn_templated_snip.response_template extension point. The format and content of these\n              parameters are dependent on the implementation of the extension point. For additional\n              information on extension points, see <a class=\"xref\" href=\"https://docs.servicenow.com/bundle/tokyo-application-development/page/build/applications/concept/extension-points.html\" target=\"_blank\">Using extension points to extend\n                application functionality</a>.",
            "type": "Parameter",
            "variable": null
          }
        ],
        "dc_identifier": "RT-render_S_S_S_S_O",
        "hasExample": true,
        "hasOutput": true,
        "hasParameter": true,
        "hasReturn": true,
        "name": "render(String templateId, String tableName, String recordId, String errorFormat, Object opts)",
        "order": 14650,
        "parentId": "ResponseTemplateAPI",
        "parent_permalink": "class_namespace__scoped_responsetemplate___scoped__global_sn_templated_snip__tokyo",
        "release": "tokyo",
        "sectionHeader": null,
        "sectionTitle": null,
        "tableHeader": null,
        "text": "Renders the HTML body of a specified response template.",
        "text2": "<p>During rendering, all variables are resolved using the information from the specified table\n        and record. If variables cannot be resolved, or any other problem occurs during rendering,\n        the method returns an error message in the results.</p>",
        "type": "Method",
        "variable": null
      }
    ],
    "dc_identifier": "ResponseTemplateAPI",
    "is_current": true,
    "is_highlighted": true,
    "level": "Class",
    "name": "ResponseTemplate - Scoped, Global",
    "namespace_id": "sn_templated_snip-namespace",
    "release": "tokyo",
    "text": "Provides methods for managing response templates.",
    "text2": "Response templates are reusable messages that agents can copy to case or task forms. They\n      provide quick and consistent messages to users and display standard chat response messages to\n      requesters in <span class=\"ph\">Agent Chat</span>. <span class=\"ph\">This API requires the Templated Responses\n                plugin (com.sn_templated_snip), which is activated by default. This API is provided\n                within the <span class=\"keyword parmname\">sn_templated_snip</span> namespace.</span><br/><br/>For additional information on response templates,\n                see <a class=\"xref\" href=\"https://docs.servicenow.com/bundle/tokyo-servicenow-platform/page/product/human-resources/concept/response-templates-templated-snippets.html\" target=\"_blank\">Response templates</a>.",
    "type": "Server Side Scoped",
    "variable": ""
  }
]